{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SVG = void 0;\nconst svgReg = /<svg\\s([^>\"']|\"[^\"]*\"|'[^']*')*>/;\nconst extractorRegExps = {\n  height: /\\sheight=(['\"])([^%]+?)\\1/,\n  root: svgReg,\n  viewbox: /\\sviewBox=(['\"])(.+?)\\1/i,\n  width: /\\swidth=(['\"])([^%]+?)\\1/\n};\nconst INCH_CM = 2.54;\nconst units = {\n  in: 96,\n  cm: 96 / INCH_CM,\n  em: 16,\n  ex: 8,\n  m: 96 / INCH_CM * 100,\n  mm: 96 / INCH_CM / 10,\n  pc: 96 / 72 / 12,\n  pt: 96 / 72,\n  px: 1\n};\nconst unitsReg = new RegExp(`^([0-9.]+(?:e\\\\d+)?)(${Object.keys(units).join('|')})?$`);\n\nfunction parseLength(len) {\n  const m = unitsReg.exec(len);\n\n  if (!m) {\n    return undefined;\n  }\n\n  return Math.round(Number(m[1]) * (units[m[2]] || 1));\n}\n\nfunction parseViewbox(viewbox) {\n  const bounds = viewbox.split(' ');\n  return {\n    height: parseLength(bounds[3]),\n    width: parseLength(bounds[2])\n  };\n}\n\nfunction parseAttributes(root) {\n  const width = root.match(extractorRegExps.width);\n  const height = root.match(extractorRegExps.height);\n  const viewbox = root.match(extractorRegExps.viewbox);\n  return {\n    height: height && parseLength(height[2]),\n    viewbox: viewbox && parseViewbox(viewbox[2]),\n    width: width && parseLength(width[2])\n  };\n}\n\nfunction calculateByDimensions(attrs) {\n  return {\n    height: attrs.height,\n    width: attrs.width\n  };\n}\n\nfunction calculateByViewbox(attrs, viewbox) {\n  const ratio = viewbox.width / viewbox.height;\n\n  if (attrs.width) {\n    return {\n      height: Math.floor(attrs.width / ratio),\n      width: attrs.width\n    };\n  }\n\n  if (attrs.height) {\n    return {\n      height: attrs.height,\n      width: Math.floor(attrs.height * ratio)\n    };\n  }\n\n  return {\n    height: viewbox.height,\n    width: viewbox.width\n  };\n}\n\nexports.SVG = {\n  validate(buffer) {\n    const str = String(buffer);\n    return svgReg.test(str);\n  },\n\n  calculate(buffer) {\n    const root = buffer.toString('utf8').match(extractorRegExps.root);\n\n    if (root) {\n      const attrs = parseAttributes(root[0]);\n\n      if (attrs.width && attrs.height) {\n        return calculateByDimensions(attrs);\n      }\n\n      if (attrs.viewbox) {\n        return calculateByViewbox(attrs, attrs.viewbox);\n      }\n    }\n\n    throw new TypeError('Invalid SVG');\n  }\n\n};","map":{"version":3,"sources":["D:/VS_Code/VS_Code_general_Workspace/finalYearProject/chatApp/node_modules/image-size/dist/types/svg.js"],"names":["Object","defineProperty","exports","value","SVG","svgReg","extractorRegExps","height","root","viewbox","width","INCH_CM","units","in","cm","em","ex","m","mm","pc","pt","px","unitsReg","RegExp","keys","join","parseLength","len","exec","undefined","Math","round","Number","parseViewbox","bounds","split","parseAttributes","match","calculateByDimensions","attrs","calculateByViewbox","ratio","floor","validate","buffer","str","String","test","calculate","toString","TypeError"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SVG = void 0;\nconst svgReg = /<svg\\s([^>\"']|\"[^\"]*\"|'[^']*')*>/;\nconst extractorRegExps = {\n    height: /\\sheight=(['\"])([^%]+?)\\1/,\n    root: svgReg,\n    viewbox: /\\sviewBox=(['\"])(.+?)\\1/i,\n    width: /\\swidth=(['\"])([^%]+?)\\1/,\n};\nconst INCH_CM = 2.54;\nconst units = {\n    in: 96,\n    cm: 96 / INCH_CM,\n    em: 16,\n    ex: 8,\n    m: 96 / INCH_CM * 100,\n    mm: 96 / INCH_CM / 10,\n    pc: 96 / 72 / 12,\n    pt: 96 / 72,\n    px: 1\n};\nconst unitsReg = new RegExp(`^([0-9.]+(?:e\\\\d+)?)(${Object.keys(units).join('|')})?$`);\nfunction parseLength(len) {\n    const m = unitsReg.exec(len);\n    if (!m) {\n        return undefined;\n    }\n    return Math.round(Number(m[1]) * (units[m[2]] || 1));\n}\nfunction parseViewbox(viewbox) {\n    const bounds = viewbox.split(' ');\n    return {\n        height: parseLength(bounds[3]),\n        width: parseLength(bounds[2])\n    };\n}\nfunction parseAttributes(root) {\n    const width = root.match(extractorRegExps.width);\n    const height = root.match(extractorRegExps.height);\n    const viewbox = root.match(extractorRegExps.viewbox);\n    return {\n        height: height && parseLength(height[2]),\n        viewbox: viewbox && parseViewbox(viewbox[2]),\n        width: width && parseLength(width[2]),\n    };\n}\nfunction calculateByDimensions(attrs) {\n    return {\n        height: attrs.height,\n        width: attrs.width,\n    };\n}\nfunction calculateByViewbox(attrs, viewbox) {\n    const ratio = viewbox.width / viewbox.height;\n    if (attrs.width) {\n        return {\n            height: Math.floor(attrs.width / ratio),\n            width: attrs.width,\n        };\n    }\n    if (attrs.height) {\n        return {\n            height: attrs.height,\n            width: Math.floor(attrs.height * ratio),\n        };\n    }\n    return {\n        height: viewbox.height,\n        width: viewbox.width,\n    };\n}\nexports.SVG = {\n    validate(buffer) {\n        const str = String(buffer);\n        return svgReg.test(str);\n    },\n    calculate(buffer) {\n        const root = buffer.toString('utf8').match(extractorRegExps.root);\n        if (root) {\n            const attrs = parseAttributes(root[0]);\n            if (attrs.width && attrs.height) {\n                return calculateByDimensions(attrs);\n            }\n            if (attrs.viewbox) {\n                return calculateByViewbox(attrs, attrs.viewbox);\n            }\n        }\n        throw new TypeError('Invalid SVG');\n    }\n};\n"]},"metadata":{},"sourceType":"script"}